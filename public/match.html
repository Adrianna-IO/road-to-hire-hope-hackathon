<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>You have made it to the match page</h1>
    <div class="main--container">
        <h1>Welcome to my website!</h1>
        <h2>Here are the menotors you matched with!</h2>
        <div id="profile--container">
        </div>
    </div>
    <script type="text/javascript">
        const profileContainer = document.querySelector('#profile--container');
        console.log(profileContainer);

        // Creates HTML elements to render on page
        const createNode = (element) => {
            return document.createElement(element);
        }

        // Pins element to desired area
        const append = (parent, child) => {
            return parent.appendChild(child);
        }

        window.onload = fetchUser = () => {
            fetch("/api/profiles")
            .then((res) => {
                return res.json()
            })
            .then((data) => {
                return data.map((profileItem) => {
                    let profileCard = createNode('div')
                    let name = createNode('h3')
                    let profession = createNode('p')
                    let interestCard = createNode('div');
                    let interest1 = createNode('p')
                    let interest2 = createNode('p')

                    name.innerText = profileItem.name
                    profession.innerText = profileItem.profession
                    interest1.innerText = profileItem.interests.interest1
                    interest2.innerText = profileItem.interests.interest2

                    append(profileContainer, profileCard)
                    append(profileCard, name)
                    append(profileCard, profession)
                    append(profileCard, interestCard)
                    append(interestCard, interest1)
                    append(interestCard, interest2)
                })
            })
            .catch((err) => {
                console.log(err); 
            })
        }

    </script>

</body>
</html>